extends layout

block content
  h1= title
  p Welcome to #{title}
  script.
    var body = document.getElementsByTagName("body")[0];

    const xhr = new XMLHttpRequest(),
      method = "GET",
      url = "https://testing-api-one.herokuapp.com/";

    xhr.onreadystatechange = function(){
      if(this.readyState == 4 && this.status == 200){
        var newArr = JSON.parse(this.response);
        for(var i=0; i< newArr.length; i++){
          let divs = document.createElement("div");
          divs.style.marginTop= "10px";
          divs.style.overflow = "hidden";
          let texts = document.createTextNode(newArr[i].name);
          divs.appendChild(texts);
          body.appendChild(divs);
      }
    }
    }
    xhr.open(method, url, true);
    xhr.send();